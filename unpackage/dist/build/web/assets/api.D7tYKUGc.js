import{D as t}from"./index-CoNwD4i1.js";const a=new class{async checkNetwork(){try{const a=await t.callFunction({name:"testConnection",data:{}});return a.result&&200===a.result.code}catch(a){return console.warn("网络连接检测失败:",a),!1}}async callFunction(a,e={}){try{if(!(await this.checkNetwork()))throw new Error("网络连接异常，请检查网络设置");return(await t.callFunction({name:a,data:e})).result}catch(n){if(console.error(`调用云函数 ${a} 失败:`,n),n.message.includes("timeout")||n.message.includes("network"))throw new Error("网络连接超时，可能是由于地理位置限制。建议使用VPN或联系管理员。");throw n}}async addBill(t){return await this.callFunction("addBill",t)}async getBills(t={}){return await this.callFunction("getBills",t)}async updateBill(t){return await this.callFunction("updateBill",t)}async deleteBill(t){return await this.callFunction("deleteBill",{_id:t})}async addMember(t){return await this.callFunction("addMember",t)}async getMembers(t={}){return await this.callFunction("getMembers",t)}async updateMember(t,a){return await this.callFunction("updateMember",{_id:t,name:a})}async deleteMember(t){return await this.callFunction("deleteMember",{_id:t})}async getStats(t={}){return await this.callFunction("getStats",t)}async backupData(t,a={}){return await this.callFunction("backupData",{action:t,data:a})}async initData(){return await this.callFunction("initData")}async handleError(t,a,e={}){return await this.callFunction("errorHandler",{error:t,functionName:a,params:e})}};export{a};
